webpackJsonp([15],{L0j1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("OC4A"),a=n("mtWM"),r=n.n(a),s=n("7+uW"),o=n("NjZ5");s.default.use(o.a),r.a.defaults.withCredentials=!0;var c={name:"Account",data:function(){return{UserImg:"",UserNmaes:""}},methods:{ObtainRoute:function(t){var e=this,n=this.$refs.InputFile;console.log(n.files[0]);var i=new FormData;i.append("file",n.files[0]);r.a.post("http://elm.cangdu.org/eus/v1/users/"+this.UserCode+"/avatar",i,{headers:{"Content-Type":"multipart/from-Data"}}).then(function(t){console.log(t),r.a.get("http://elm.cangdu.org/img/"+t.data.image_path).then(function(t){e.UserImg=t.config.url})})},RouteModify:function(){this.$router.push("/modifyusername")},ModifyPswd:function(){this.$router.push("/modifypswd")},ClickSignOut:function(){var t=this;o.a.confirm({message:"是否退出登录"}).then(function(){localStorage.removeItem("Code"),t.$router.go(-1)}).catch(function(){})}},mounted:function(){var t=this;if(r.a.get("http://elm.cangdu.org/v1/user?user_id="+this.UserCode).then(function(e){t.UserNmaes=e.data.username,t.UserImg=e.data.avatar,r.a.get("http://elm.cangdu.org/img/"+t.UserImg).then(function(e){t.UserImg=e.config.url})}),localStorage.getItem("Code")){var e=JSON.parse(localStorage.getItem("Code"));this.UserCode=e,console.log(e)}},components:{Headers:i.a}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Accout_aDiv"},[n("Headers",{attrs:{AccountHd:!0}}),t._v(" "),n("content",[n("ul",[n("li",[n("input",{ref:"InputFile",attrs:{type:"file"},on:{change:function(e){return t.ObtainRoute(e)}}}),t._v(" "),n("span",[t._v("头像")]),t._v(" "),n("span",[n("img",{attrs:{src:t.UserImg}})]),t._v(" "),n("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),n("li",{on:{click:function(e){return t.RouteModify()}}},[n("span",[t._v("用户名")]),t._v(t._s(t.UserNmaes)),n("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),n("router-link",{attrs:{tag:"li",to:"/goodsposition"}},[n("span",[t._v("收货地址")]),n("i",{staticClass:"el-icon-arrow-right"})])],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("ul",[n("li",{on:{click:function(e){return t.ModifyPswd()}}},[n("span",[t._v("密码登录")]),t._v("修改"),n("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),n("p",[n("input",{attrs:{type:"button",value:"退出登录"},on:{click:function(e){return t.ClickSignOut()}}})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("账号绑定")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("i",{staticClass:"el-icon-mobile-phone",staticStyle:{"padding-top":"0.5rem",color:"#3399ff","padding-right":"0.1rem"}}),e("span",[this._v("手机")]),e("i",{staticClass:"el-icon-arrow-right"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("安全设置")])])}]};var l=n("VU/8")(c,u,!1,function(t){n("daPf")},null,null);e.default=l.exports},daPf:function(t,e){}});
//# sourceMappingURL=15.5378eb355f389bb59633.js.map